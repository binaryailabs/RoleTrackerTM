<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Role Tracker</title>
  <meta name="theme-color" content="#004165" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3069/3069171.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body { font-family: Georgia, 'Times New Roman', serif; transition: background-color 0.3s, color 0.3s; }
    header { background-color: #004165; color: white; position: sticky; top: 0; z-index: 50; }
    .tab-btn { flex: 1; padding: 0.75rem; font-weight: 600; border-bottom: 3px solid transparent; transition: 0.2s; }
    .tab-btn:hover { background-color: #fef08a; }
    .active-tab { border-bottom-color: #004165; color: #004165; }
    section { display: none; opacity: 0; transition: opacity 0.2s ease-in-out; min-height: calc(100vh - 150px); }
    section.active { display: block; opacity: 1; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border-bottom: 1px solid #ccc; padding: 6px; }
  </style>
</head>

<body id="body" class="bg-white text-black min-h-screen flex flex-col">
  <header class="flex justify-between items-center p-4 shadow">
    <h1 class="font-bold text-lg">🎙️ Role Tracker</h1>
    <div class="flex items-center space-x-3">
      <span>🌞</span>
      <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" id="themeToggle" class="sr-only" />
        <div id="toggleTrack" class="w-10 h-5 bg-gray-300 rounded-full"></div>
        <div id="toggleThumb" class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform"></div>
      </label>
      <span>🌙</span>
    </div>
  </header>

  <nav class="flex justify-around bg-white border-b sticky top-[64px] z-40">
    <button id="tab-tracker" class="tab-btn active-tab">Tracker</button>
    <button id="tab-summary" class="tab-btn">Summary</button>
    <button id="tab-timeline" class="tab-btn">Timeline</button>
    <button id="tab-insights" class="tab-btn">Insights</button>
    <button id="tab-timer" class="tab-btn">Timer</button>
    <button id="tab-leader" class="tab-btn">Leader</button>
    <button id="tab-roles" class="tab-btn">Roles</button>
    <button id="tab-admin" class="tab-btn">Admin</button>
  </nav>

  <main class="flex-1 p-4 overflow-y-auto">
    <!-- Tracker -->
    <section id="trackerTab" class="active">
      <form id="roleForm" class="space-y-3 mb-4">
        <input type="date" id="date" class="w-full border p-2 rounded" required />
        <select id="role" class="w-full border p-2 rounded" required></select>
        <input type="text" id="club" placeholder="Club Name" class="w-full border p-2 rounded" required />
        <textarea id="notes" placeholder="Notes" class="w-full border p-2 rounded"></textarea>
        <select id="rating" class="w-full border p-2 rounded">
          <option value="">Select Rating</option>
          <option>⭐</option><option>⭐⭐</option><option>⭐⭐⭐</option>
          <option>⭐⭐⭐⭐</option><option>⭐⭐⭐⭐⭐</option>
        </select>
        <button type="submit" class="w-full bg-[#004165] text-white py-2 rounded">Add Role</button>
      </form>
      <ul id="roles" class="space-y-3"></ul>
    </section>

    <!-- Summary -->
    <section id="summaryTab"><canvas id="roleChart" height="220"></canvas></section>

    <!-- Timeline -->
    <section id="timelineTab"><div id="timelineContainer" class="space-y-4"></div></section>

    <!-- Insights -->
    <section id="insightsTab">
      <p><strong>Total Roles:</strong> <span id="totalRoles">-</span></p>
      <p><strong>Top Roles:</strong> <span id="topRoles">-</span></p>
      <p><strong>Average Rating:</strong> <span id="avgRating">-</span></p>
      <p><strong>Longest Gap:</strong> <span id="longestGap">-</span></p>
      <p><strong>Active Months:</strong> <span id="streakCount">-</span></p>
      <label><strong>Yearly Goal:</strong> 
        <input type="number" id="goalInput" class="border p-1 rounded w-20 ml-2" />
      </label>
      <p id="goalProgress" class="text-[#004165] font-semibold"></p>
      <canvas id="insightPie" height="200"></canvas>
    </section>

    <!-- Timer -->
    <section id="timerTab" class="text-center">
      <div id="timerDisplay" class="text-4xl font-bold mt-4">00:00</div>
      <div class="space-x-3 mt-3">
        <button id="startTimer" class="bg-[#004165] text-white px-4 py-2 rounded">Start</button>
        <button id="resetTimer" class="bg-[#772432] text-white px-4 py-2 rounded">Reset</button>
      </div>
    </section>

<!-- Leader In Me -->
<section id="leaderTab">
  <h2 class="font-bold text-[#004165] text-center mb-3 text-lg">🏅 Leader In Me Tracker</h2>

  <!-- Dynamic Mini Progress Bar -->
  <div class="w-full bg-gray-300 h-3 rounded-full mb-3 relative overflow-hidden">
    <div id="leaderMiniBar" class="h-3 rounded-full transition-all duration-500 ease-in-out"
         style="width:0%; background:#9ca3af;"></div>
    <span id="leaderMiniText"
          class="absolute inset-0 text-xs text-center font-semibold text-black leading-3"></span>
  </div>

  <p id="leaderProgress" class="font-bold text-[#004165] mb-3 text-center"></p>
  <div id="leaderContainer" class="space-y-2"></div>
  <p id="leaderCongrats" class="hidden text-green-600 font-bold mt-3 text-center">
    🎉 Congratulations! You’ve completed the Leader In Me Journey!
  </p>
</section>



    <!-- Roles Management -->
    <section id="rolesTab">
      <h2 class="font-bold text-[#004165] mb-2">Roles Directory</h2>
      <input type="text" id="roleSearch" placeholder="Search role..." class="border p-2 rounded w-full mb-3" />
      <table>
        <thead><tr><th>Role</th><th>Actions</th></tr></thead>
        <tbody id="rolesTable"></tbody>
      </table>
      <div class="mt-4">
        <input type="text" id="newRole" placeholder="Add new role..." class="border p-2 rounded w-full mb-2" />
        <button id="addRoleBtn" class="bg-[#004165] text-white px-4 py-2 rounded w-full">Add Role</button>
      </div>
    </section>

    <!-- Admin -->
    <section id="adminTab">
      <h2 class="font-bold mb-3 text-center text-[#004165]">Admin Panel</h2>
      <input type="password" id="adminPass" placeholder="Enter Password" class="border p-2 rounded w-full mb-3" />
      <button id="unlockAdmin" class="bg-[#004165] text-white px-4 py-2 rounded w-full mb-3">Unlock</button>
      <div id="adminActions" class="hidden">
        <button id="resetAll" class="bg-[#772432] text-white px-4 py-2 rounded w-full">Hard Reset</button>
      </div>
    </section>
  </main>

  <footer class="text-center text-sm p-3 text-gray-600 border-t">
    BinaryAILabs 💪 | Toastmasters Role Tracker
  </footer>

  <script src="app.js"></script>
</body>
</html>
